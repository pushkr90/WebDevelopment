{"version":3,"sources":["webpack://samples/./src/services.js","webpack://samples/webpack/bootstrap","webpack://samples/webpack/runtime/define property getters","webpack://samples/webpack/runtime/hasOwnProperty shorthand","webpack://samples/webpack/runtime/make namespace object","webpack://samples/./src/todo.js"],"names":["checkLoginStatus","fetch","method","Promise","reject","error","then","response","ok","json","err","performLogin","username","headers","Headers","body","JSON","stringify","todos","appState","addLogin","userInfo","showContent","renderTodos","showLogin","document","querySelector","classList","add","remove","addEventListener","usernameEl","value","console","log","listEl","html","Object","keys","map","key","item","name","quantity","join","innerHTML"],"mappings":"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","file":"todo.js","sourcesContent":["export const checkLoginStatus = function() {\n  return fetch('/session', {\n    method: 'GET',\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\nexport const performLogin = function( username ) {\n  return fetch('/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({ username }),\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\n\n\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n  checkLoginStatus,\n  performLogin\n} from './services';\n\nlet todos = []; // TODO - should be object, not array\n\nconst appState =\n{\n  todos :{},\n  username: '',\n\n};\n\n\n\naddLogin();\n\n// Check for login\ncheckLoginStatus()\n.then( (userInfo) => {\n  showContent();\n  appState.todos = userInfo.todos;\n  appState.username = userInfo.username;\n  renderTodos(appState.todos);\n})\n.catch( error => {\n  showLogin();\n});\n\n// TODO: Move these HTML-changing functions to an import from another file\nfunction showContent() {\n  document.querySelector('#todo-app .login').classList.add('hidden');\n  document.querySelector('#todo-app .logged-in').classList.remove('hidden');\n}\n\nfunction showLogin() {\n  document.querySelector('#todo-app .login').classList.remove('hidden');\n  document.querySelector('#todo-app .logged-in').classList.add('hidden');\n}\n\nfunction addLogin() {\n  document.querySelector('#todo-app .login button').addEventListener('click', () => {\n    const usernameEl = document.querySelector('#todo-app .login input');\n    const username = usernameEl.value;\n    // call service\n    performLogin(username)\n    .then( userInfo => {\n      console.log(\"Inside the reponse\");\n      showContent();\n      appState.todos = userInfo.todos;\n      console.log(\"AppState - \"+appState.todos);\n      renderTodos(appState.todos);\n      console.log(\"Todoes done\");\n    })\n    .catch( err => {\n      // fixme - show errors\n      console.log(\"Im here\");\n      console.log(err);\n    })\n  });\n}\n\nfunction renderTodos(todos) {\n  const listEl = document.querySelector('#todo-app .todos');\n  console.log(\"Inside render function\");\n  const html=Object.keys(todos).map((key)=>\n  {\n    console.log(\"Inside the keys\");\n    const item=todos[key];\n    console.log(\"Item is \"+item);\n    return `\n    <li>\n    <span class=\"item-name\" data-id=\"${key}\">${item.name}</span>\n    <span class=\"item-quantity\" data-id=\"${key}\">${item.quantity}</span>\n    `\n\n  }).join(' ');\n  listEl.innerHTML = html;\n}\n\n\n"],"sourceRoot":""}