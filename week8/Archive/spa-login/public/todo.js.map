{"version":3,"sources":["webpack://samples/./src/services.js","webpack://samples/webpack/bootstrap","webpack://samples/webpack/runtime/define property getters","webpack://samples/webpack/runtime/hasOwnProperty shorthand","webpack://samples/webpack/runtime/make namespace object","webpack://samples/./src/todo.js"],"names":["checkLoginStatus","fetch","method","Promise","reject","error","then","response","ok","json","err","performLogin","username","headers","Headers","body","JSON","stringify","todos","addLogin","userInfo","showContent","renderTodos","showLogin","document","querySelector","classList","add","remove","addEventListener","usernameEl","value","console","log","listEl","html","map","todo","task","join","innerHTML"],"mappings":"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","file":"todo.js","sourcesContent":["export const checkLoginStatus = function() {\n  return fetch('/session', {\n    method: 'GET',\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\nexport const performLogin = function( username ) {\n  return fetch('/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({ username }),\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n  checkLoginStatus,\n  performLogin\n} from './services';\n\nlet todos = []; // TODO - should be object, not array\n\naddLogin();\n\n// Check for login\ncheckLoginStatus()\n.then( (userInfo) => {\n  showContent();\n  todos = userInfo.todos;\n  renderTodos(todos);\n})\n.catch( error => {\n  showLogin();\n});\n\n// TODO: Move these HTML-changing functions to an import from another file\nfunction showContent() {\n  document.querySelector('#todo-app .login').classList.add('hidden');\n  document.querySelector('#todo-app .logged-in').classList.remove('hidden');\n}\n\nfunction showLogin() {\n  document.querySelector('#todo-app .login').classList.remove('hidden');\n  document.querySelector('#todo-app .logged-in').classList.add('hidden');\n}\n\nfunction addLogin() {\n  document.querySelector('#todo-app .login button').addEventListener('click', () => {\n    const usernameEl = document.querySelector('#todo-app .login input');\n    const username = usernameEl.value;\n    // call service\n    performLogin(username)\n    .then( userInfo => {\n      showContent();\n      todos = userInfo.todos;\n      renderTodos(todos);\n    })\n    .catch( err => {\n      // fixme - show errors\n      console.log(err);\n    })\n  });\n}\n\nfunction renderTodos(todos) {\n  const listEl = document.querySelector('#todo-app .todos');\n  const html = todos.map( todo => {\n    return `<li class=\"todo\"><span>${todo.task}</span></li>`;\n  }).join(\"\\n\");\n  listEl.innerHTML = html;\n}\n"],"sourceRoot":""}